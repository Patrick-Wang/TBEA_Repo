<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="ECharts">
<meta name="author" content="">
<title>应收账款盘子规划</title>


<link rel="stylesheet" type="text/css" media="screen"
	href="jqgrid/themes/ui.jqgrid.css">
<link rel="stylesheet" type="text/css" media="screen"
	href="jqgrid/themes/ui.multiselect.css">
<script src="jqgrid/js/jquery.js" type="text/javascript"></script>

<script src="jqgrid/js/jquery.layout.js" type="text/javascript"></script>
<script src="jqgrid/js/i18n/grid.locale-en.js" type="text/javascript"></script>


<script src="jqgrid/js/jquery.jqGrid.js" type="text/javascript"></script>
<script src="jqgrid/js/jquery.tablednd.js" type="text/javascript"></script>
<script src="jqgrid/js/jquery.contextmenu.js" type="text/javascript"></script>
<script src="class.js" type="text/javascript"></script>
<script src="jqassist.js" type="text/javascript"></script>

<link rel="stylesheet" type="text/css" media="screen"
	href="jqgrid/themes/redmond/jquery-ui-custom.css">
<script src="jqgrid/js/jquery-ui-custom.min.js" type="text/javascript"></script>
<script src="jqgrid/js/ui.multiselect.js" type="text/javascript"></script>
<script src="vector.js" type="text/javascript"></script>
<style>
body {
	background-color: rgb(247, 247, 247);
}

.panel-content-border {
	height: 450px;
	width: 45%;
	border: 2px solid #e3e3e3;
	margin: 0;
	padding: 0;
	align: left;
	valign: left;
	text-align: left;
	float: left;
}

.panel-content {
	height: 100%;
	width: 100%;
	margin: 0;
	padding: 0;
}

.right {
	width: 45%;
	height: 180px;
	float: left;
	padding-top: 20px;
}

.contract {
	text-align: center;
}

.contract h1 {
	display: none;
	color: #003B8F;
}

.btn_loading, .btn_detail {
	width: 100px;
	height: 30px;
	padding: 5px, 10px;
	font-size: 12px;
	line-height: 1.5;
	boder-radius: 3px;
	background-color: #5cb85c;
	boder-color: #4cae4c;
	color: #fff
}

.header {
	width: 100%;
	height: 60px;
}

.header h1 {
	text-align: center;
}

.companyname h1 {
	width: 30px;
	font-size: 30px;
	word-wrap: break-word;
	letter-spacing: 20px;
	color: #5cb85c;
	float: left;
}

.lxian {
	margin-left: 30px;
	width: 1px;
	height: 175px;
	background: #5cb85c;
	float: left;
}

.hrclass hr {
	width: 1100px;
	height: 1px;
	margin-top: 10px;
	margin-left: 90px;
	border: 0;
	background-color: #5cb85c;
}

th.ui-th-column div {
	/* jqGrid columns name wrap  */
	white-space: normal !important;
	height: auto !important;
	padding: 0px;
}

.ui-corner-all, .ui-corner-bottom, .ui-corner-right, .ui-corner-br {
	border-bottom-right-radius: 0px;
}

.ui-corner-all, .ui-corner-bottom, .ui-corner-left, .ui-corner-bl {
	border-bottom-left-radius: 0px;
}

.ui-corner-all, .ui-corner-top, .ui-corner-right, .ui-corner-tr {
	border-top-right-radius: 0;
}

.ui-corner-all, .ui-corner-top, .ui-corner-left, .ui-corner-tl {
	border-top-left-radius: 0px;
}
</style>

</head>


<script type="text/javascript">
	function showdetail() {
		$(".right").css("display", "block");
	}
</script>

<body>
	<div class="header">
		<h1>应收账款盘子规划</h1>
	</div>
	<div class="hjg" style="width: 100%; height: 10px"></div>

	<div style="width: 1200px; height: 185px; margin-left: 30px;">
		<!--left part companyname-->
		<div class="companyname">
			<h1>沈变公司</h1>
		</div>
		<!--vertical separate-->
		<div class="lxian"></div>
		<!--right part detail table-->
		<div class="right">
			<table id="list1"></table>
			<div style="width: 4000px">
				<div style="float: left;">
					<table id="list3">
					</table>
				</div>
				<div style="float: left;">

					<div>
						<table id="list2">
						</table>
					</div>
					<div>
						<table id="list4">
						</table>
					</div>
				</div>
			</div>

		</div>
	</div>
	<!--horizontal separate-->
	<div class="hrclass">
		<hr>
	</div>
	<div class="hjg" style="width: 100%; height: 30px"></div>


	<div style="width: 1200px; height: 185px; margin-left: 30px;">
		<!--left part companyname-->
		<div class="companyname">
			<h1>衡变公司</h1>
		</div>
		<!--vertical separate-->
		<div class="lxian"></div>
		<!--right part detail table-->
		<div class="right">

			<table id="list_hb1"></table>
			<div style="width: 4000px">
				<div style="float: left;">
					<table id="list_hb3">
					</table>
				</div>
				<div style="float: left;">

					<div>
						<table id="list_hb2">
						</table>
					</div>
					<div>
						<table id="list_hb4">
						</table>
					</div>
				</div>
			</div>

		</div>

	</div>
	<!--horizontal separate-->
	<div class="hrclass">
		<hr>
	</div>

	<div class="hjg" style="width: 100%; height: 30px"></div>


	<div style="width: 1200px; height: 185px; margin-left: 30px;">
		<!--left part companyname-->
		<div class="companyname">
			<h1>鲁缆公司</h1>
		</div>
		<!--vertical separate-->
		<div class="lxian"></div>
		<!--right part detail table-->
		<div class="right">

			<table id="list_ll1"></table>
			<div style="width: 4000px">
				<div style="float: left;">
					<table id="list_ll3">
					</table>
				</div>
				<div style="float: left;">

					<div>
						<table id="list_ll2">
						</table>
					</div>
					<div>
						<table id="list_ll4">
						</table>
					</div>
				</div>
			</div>

		</div>

	</div>
	<div class="hrclass">
		<hr>
	</div>

	<div class="hjg" style="width: 100%; height: 30px"></div>


	<div style="width: 1200px; height: 185px; margin-left: 30px;">
		<!--left part companyname-->
		<div class="companyname">
			<h1>德缆公司</h1>
		</div>
		<!--vertical separate-->
		<div class="lxian"></div>
		<!--right part detail table-->
		<div class="right">

			<table id="list_dl1"></table>
			<div style="width: 4000px">
				<div style="float: left;">
					<table id="list_dl3">
					</table>
				</div>
				<div style="float: left;">

					<div>
						<table id="list_dl2">
						</table>
					</div>
					<div>
						<table id="list_dl4">
						</table>
					</div>
				</div>
			</div>

		</div>

	</div>
	<div class="hrclass">
		<hr>
	</div>
	<script type="text/javascript">
		//合同明细
		// 	var e = document.createElement("div");
		// 	e.innerText = "asdfasdfasdf";
		// 	document.body.appendChild(e);

		function refreshTable(listName, refreshTags, list) {
			for (var i = 0; i < refreshTags.length; i++) {
				if (refreshTags[i]) {
					if (!list[i] >= 0) {
						$("#" + listName + (i + 1)).jqGrid('saveCell', '1',
								list[i]);
						list[i] = -1;
					}

					$("#" + listName + (i + 1)).trigger("reloadGrid");
					//$("#" + listName + (i + 1)).jqGrid('sRow', '1');

					refreshTags[i] = false;
				}
			}
		}

		function updateTable(listName, data) {

			var selectGrid = null;
			var selectRow = 0;
			var currentList;
			var refreshTags = [ false, false, false, false ];
			var listCurrentColum = [ -1, -1, -1, -1 ];

			// for table one
			var t1Assist = JQGridAssistantFactory.createYSPZ1(listName + "1");
			t1Assist.mergeTitle(0, 1);
			t1Assist.mergeColum(1, 0);
			t1Assist.disableDragCell();
			$("#" + listName + "1").jqGrid(
					{
						data : t1Assist.getData(data),
						datatype : "local",
						//url : "Table?q=2",
						//datatype: "json",
						colNames : t1Assist.getColNames(),
						colModel : t1Assist.getColModel(),
						multiselect : false,
						//rowNum : 4,
						drag : false,
						resize : false,
						autowidth : false,
						cellEdit : true,
						height : '100%',
						width : '100%',
						shrinkToFit : false,
						autoScroll : true,
						afterSaveCell : function(id, nm, v, iRow, iCol) {
							listCurrentColum[0].erase(listCurrentColum[0]
									.find(iCol))
						},

						beforeEditCell : function(id, nm, tmp, iRow, iCol) {
							listCurrentColum[0] = iCol;
						},

						onSelectCell : function(id, nm, tmp, iRow, iCol) {
							if (currentList != $("#" + listName + "1")) {
								currentList = $("#" + listName + "1");
								refreshTags = [ false, true, true, true ];
							}
							refreshTable(listName, refreshTags,
									listCurrentColum);
							t1Assist.selected(iRow, iCol);
						},
						gridComplete : function() {
							$("#gbox_" + listName + "1").css("border-bottom",
									"0px solid #a6c9e2");
							$("#" + listName + "1 #1").css("height", "24px");
							t1Assist.complete();
						}
					//rowList : [ 4, 6, 12],
					//viewrecords : true,
					//pager : "#pager"
					//caption : "应收账款预警台账"
					});
			//t1Assist.group($("#" + listName + "1"));

			//for table 2
			var t2Assist = JQGridAssistantFactory.createYSPZ2(listName + "2");
			t2Assist.disableDragCell();
			$("#" + listName + "2").jqGrid(
					{
						data : t2Assist.getData(data),
						datatype : "local",
						//url : "Table?q=2",
						//datatype: "json",
						colNames : t2Assist.getColNames(),
						colModel : t2Assist.getColModel(),
						drag : false,
						resize : false,
						multiselect : false,
						//rowNum : 4,
						cellEdit : true,
						height : '100%',
						width : '100%',
						shrinkToFit : false,
						autoScroll : true,
						afterSaveCell : function(id, nm, v, iRow, iCol) {
							listCurrentColum[1].erase(listCurrentColum[1]
									.find(iCol))
						},

						beforeEditCell : function(id, nm, tmp, iRow, iCol) {
							listCurrentColum[1] = iCol;
						},
						onCellSelect : function() {
							if (currentList != $("#" + listName + "2")) {
								currentList = $("#" + listName + "2");
								refreshTags = [ true, false, true, true ];
							}
							refreshTable(listName, refreshTags,
									listCurrentColum);
						},
						gridComplete : function() {
							$("#gbox_" + listName + "2").css("border-left",
									"0px solid #a6c9e2");
							$("#gbox_" + listName + "2").css("border-bottom",
									"0px solid #a6c9e2");
							$("#" + listName + "2 #1").css("height", "24px");
							t2Assist.complete();
							//ui-jqgrid ui-widget ui-widget-content ui-corner-all
						}
					//rowList : [ 4, 6, 12],
					//viewrecords : true,
					//pager : "#pager"
					//caption : "应收账款预警台账"
					});
		

			//for table 3
			var t3Assist = JQGridAssistantFactory.createYSPZ3(listName + "3");
			t3Assist.disableDragCell();
			//titleManager.merge("list3", titleManager.id(0), 0, 3);
			var colModel = t3Assist.getColModel();
			colModel[0].height = 70;
			$("#" + listName + "3").jqGrid(
					{
						data : t3Assist.getData([ [ "55804.0" ] ]),
						datatype : "local",
						//url : "Table?q=2",
						//datatype: "json",
						colNames : t3Assist.getColNames(),
						colModel : colModel,
						cellEdit : true,
						multiselect : false,
						//rowNum : 4,
						height : '100%',
						width : '100%',
						shrinkToFit : false,
						autoScroll : true,
						onCellSelect : function() {
							if (currentList != $("#" + listName + "3")) {
								currentList = $("#" + listName + "3");
								refreshTags = [ true, true, false, true ];
							}
							refreshTable(listName, refreshTags,
									listCurrentColum);
						},

						afterSaveCell : function(id, nm, v, iRow, iCol) {
							listCurrentColum[2].erase(listCurrentColum[2]
									.find(iCol))
						},

						beforeEditCell : function(id, nm, tmp, iRow, iCol) {
							listCurrentColum[2] = iCol;
						},

						//rowList : [ 4, 6, 12],
						//viewrecords : true,
						//pager : "#pager"
						gridComplete : function() {
							var grid = $("#" + listName + "3");
							// var ids = grid.getDataIDs();
							var height = parseInt($(
									"#" + listName + "3" + " #1").css("height")
									.replace("px", ""));
							//grid.setRowData ( '1', false, {height: 25 + 46 + 5} );
							$("#" + listName + "3_" + t3Assist.id(0)).css(
									"height",
									$("#" + listName + "2_" + t2Assist.id(0))
											.css("height"));
							$("#gbox_" + listName + "3").css("border-right",
									"0px solid #a6c9e2");
							$("#" + listName + "3 #1").css("height", "78px");

							t3Assist.complete();

						}
					//caption : "应收账款预警台账"
					});
			//$("#list3").setGridHeight(70);
			

			var t4Assist = JQGridAssistantFactory.createYSPZ4(listName + "4");
			t4Assist.disableDragCell(listName + "4");
			$("#" + listName + "4").jqGrid(
					{
						data : t4Assist.getData(data),
						datatype : "local",
						//url : "Table?q=2",
						//datatype: "json",
						cellEdit : true,
						colNames : t4Assist.getColNames(),
						colModel : t4Assist.getColModel(),
						multiselect : false,
						//rowNum : 4,
						height : '100%',
						width : '100%',
						shrinkToFit : false,
						autoScroll : true,
						afterSaveCell : function(id, nm, v, iRow, iCol) {
							listCurrentColum[3].erase(listCurrentColum[3]
									.find(iCol));
						},

						beforeEditCell : function(id, nm, tmp, iRow, iCol) {
							listCurrentColum[3] = iCol;
						},
						onCellSelect : function() {
							if (currentList != $("#" + listName + "4")) {
								currentList = $("#" + listName + "4");
								refreshTags = [ true, true, true, false ];
							}
							refreshTable(listName, refreshTags,
									listCurrentColum);
						},
						gridComplete : function() {
							$("#gbox_" + listName + "4").css("border-left",
									"0px solid #a6c9e2");
							$("#" + listName + "4 #1").css("height", "24px");
							t4Assist.complete();
						}
					//rowList : [ 4, 6, 12],
					//viewrecords : true,
					//pager : "#pager"
					//caption : "应收账款预警台账"
					});
		}

		var data = [ [ "2014年1月", "210007.2", "353", "5523.08", "10522.30",
				"11598.35", "6365.24", "2396.65", "99658.18", "73943.43" ] ];
		updateTable("list", data);

		var data = [ [ "2014年5月", "241636.0", "358", "11647.65", "11401.11",
				"13020.85", "16901.03", "3014.51", "110874.18", "74776.73" ] ];
		updateTable("list_hb", data);

		var data = [ [ "2014年5月", "241636.0", "358", "11647.65", "11401.11",
				"13020.85", "16901.03", "3014.51", "110874.18", "74776.73" ] ];
		updateTable("list_ll", data);

		var data = [ [ "2014年5月", "241636.0", "358", "11647.65", "11401.11",
				"13020.85", "16901.03", "3014.51", "110874.18", "74776.73" ] ];
		updateTable("list_dl", data);
	</script>


</body>
</html>