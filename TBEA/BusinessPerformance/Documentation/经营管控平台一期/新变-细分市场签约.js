var qye = [["4265","1607","2876","2203","6080","2544","8589","2977","5254","2817","10324","8112","2659","12093","3591","1036","14147","5600","10726","8051","1660","3948","7393","6602","2385","8036","2723","259","16484"],
["0","0","0","0","0","0","0","0","0","0","1369","0","0","24","0","0","0","0","0","-24","0","0","0","0","0","661","74","570","28"],
["3720","5204","12495","15677","2273","11655","372","0","5390","10373","4947","376","0","568","3013","4753","1825","5089","584","579","3019","6856","7128","8357","7848","6567","11249","4543","8375"],
["1355","82","84","0","420","664","63","0","12","0","36","0","6","0","2780","282","19","0","731","881","391","145","383","0","4","0","6","25","0"],
["0","1131","1324","0","878","1437","0","987","13","900","1472","8445","12","2330","0","2939","1471","1209","3321","3506","2017","381","1090","14","0","0","2575","0","4663"],
["0","0","0","0","0","0","0","0","0","0","0","0","23","1492","7372","4506","1117","9421","3973","4829","8055","4738","3587","23030","403","5806","6996","6439","5974"],
["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","","0"],
["6203","10470","5362","4262","6634","2395","0","6616","3127","0","0","6061","8300","0","3085","0","7632","0","535","10","3975","584","14","8","5626","490","540","0","288"],
["208","218","291","280","627","926","527","1480","984","393","948","658","245","113","1674","568","272","637","324","76","178","275","322","1208","556","0","553","809","723"],
["206","407","1745","1154","215","170","96","89","770","0","1437","2403","221","0","268","666","527","616","483","335","133","15","62","589","95","75","134","76","29"],
["390","46","472","80","554","11549","189","0","234","0","733","11385","2781","69","97","301","196","345","506","3","10512","2559","77","8362","1","40","453","2278","-895"],
["0","0","0","0","0","0","0","0","0","94","0","0","72","0","0","0","57","65","0","24","132","0","0","8","5","0","0","24","0"],
["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","144","1342","689","891","487","688","2","111","287","4","715","0","22","0"],
["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],
["2503","1404","1965","2560","2624","7404","4992","4116","15741","6456","8032","4483","1178","2803","4844","3491","4513","8341","2601","6175","5165","3512","8958","9520","4797","3997","6667","5110","5924"]];
function nextMonth(d){
	var dt;
	if (d.getMonth() == 11){
		dt = d.getFullYear() + 1 + "-1";
	}else{
		dt = d.getFullYear() + "-" + (d.getMonth() + 2);
	}
	dt = dt + "-" + d.getDate();
	return dt;
}

function doPost(date, data, suc){
	 $.ajax({
		type: "POST",
		data:{
			data:JSON.stringify(data),
			companyId:Util.CompanyType.XBC,
			date:date
		},
		url: "../xfscqy/entry/submit.do",
		success: suc,
		async: false,
		error: function (XMLHttpRequest, textStatus, errorThrown) {
			alter("failed");
		}
	});
}

var count = 0;
function simulateSubmit(ds, de){
	console.log("simulateSubmit('" + ds + "', '" + de + "')");
	var data = [];
	for (var i = 0; i < qye.length; ++i){
		data.push([qye[i][count]]);
	}
	var tmp = data[data.length - 1];
	data[data.length - 1] =  data[data.length - 2];
	data[data.length - 2] = tmp;
	++count;	
	var des = Date.parse(de);
	doPost(ds, data, function(){
		var dnext = nextMonth(new Date(Date.parse(ds)));
		setTimeout(function(){
			if (Date.parse(dnext) <= des ){
				simulateSubmit(dnext, de); 
			}
		}, 10);
	})
}

simulateSubmit("2014-1-1", "2016-5-1");
